<html>
<head>
<style>
  @font-face {
    font-family: 'IBM Plex Sans';
    font-weight: normal;
    font-style: normal;
    src: url(https://raw.githubusercontent.com/IBM/plex/master/IBM-Plex-Sans/fonts/complete/ttf/IBMPlexSans-Light.ttf);
  }

  @font-face {
    font-family: 'IBM Plex Sans';
    font-weight: bold;
    font-style: normal;
    src: url(https://raw.githubusercontent.com/IBM/plex/blob/master/IBM-Plex-Sans/fonts/complete/ttf/IBMPlexSans-Bold.ttf?raw=true);
  }

  @font-face {
    font-family: 'Playfair Display';
    font-weight: normal;
    font-style: normal;
    src: url(http://themes.googleusercontent.com/static/fonts/playfairdisplay/v7/2NBgzUtEeyB-Xtpr9bm1Cczai8e7xzqnKiVb1EwOy0E.ttf);
  }

  @page {
    size: a4 landscape;
    margin: 20px 20px 50px 20px;
    font-family: 'IBM Plex Sans', sans-serif;
    @bottom-center {
      content: 'Page 'counter(page);
      font-family: 'IBM Plex Sans', sans-serif;
      font-size: 12px;
    }
  }

  html,
  body {
    font-size: 10px;
    font-family: 'IBM Plex Sans', sans-serif;
    color: black;
  }

  .container {
    padding: 3em 3em 1.5em 3em;
    min-height: 90vh;
    display: block;
  }

  .report-header {
    display: table;
    width: 100%;
    box-sizing: border-box;
    margin-bottom: 3em;
  }

  .report-header>* {
    display: table-cell;
  }

  .report-header img {
    width: 8.9em;
    height: 5.6em;
    display: block;
    margin-bottom: 0.7em;
  }

  .report-header .page-title {
    text-align: center;
    font-size: 2.5em;
    font-family: 'Playfair Display', serif;
    color: black;
  }

  .report-header .report-info {
    vertical-align: bottom;
    text-align: right;
  }

  .report-body .payment-type-detail {
    font-size: 1.5em;
    margin-bottom: 1.5em;
  }

  .logo .logo-title {
    color: #2B3A8B;
    font-weight: bold;
    font-size: 12px;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    -fs-table-paginate: paginate;
  }

  th,
  td {
    padding: 0.85em;
    font-style: normal;
    font-weight: normal;
  }

  th {
    text-align: left;
    color: black;
    font-weight: 600;
  }

  td {
    vertical-align: baseline;
    word-wrap: break-word;
  }

  tbody tr:first-child td {
    border-top: none;
  }

  tbody tr:last-child td {
    border-bottom: none;
  }

  tbody td {
    border: 0.1em solid #3E4345;
  }

  tbody tr:last-child td:first-child {
    border-right: none;
  }

  thead th {
    border: 0.1em solid #3E4345;
  }
  
  tbody tr:last-child td {
    border: 0.1em solid #3E4345;
    font-weight: 600;
    color: black;
  }

  .payment-type-table:last-child {
    margin-bottom: 2em;
  }

  .payment-type-table-footer {
    border-style: hidden;
  }

  .payment-type-table-footer tbody tr, .payment-type-table-footer tbody tr td {
    border-style: hidden;
    font-weight: 600;
    color: black;
  }

  page-after {
    display: block;
    page-break-after: always;
  }
</style>
</head>
<body>
  <div class="container">
    <div class="report-header">
      <div class="logo">
        <img th:src="@{logo}"/>
        <span class="logo-title" th:text="${propertyName}"></span>
      </div>
      <h1 class="page-title">CASH CLOSURE SUMMARY REPORT</h1>
      <div class="report-info">
        <span th:text="'Report Date: ' + ${reportDate}"></span><br/>
        <span th:text="'Cash RegID: ' + ${cashRegisterId}"></span><br/>
        <span th:text="'Closure Session Ref: ' + ${closureRef}"></span><br/>
        <span th:text="'Closed by: ' + ${closedBy}"></span>
      </div>
    </div>
    <div class="report-body">
      <table>
        <thead>
          <tr>
            <th style="width: 200px">Payment Code</th>
            <th style="width: 150px">Start Float</th>
            <th style="width: 150px">Actual Received</th>
            <th style="width: 150px">Actual Paid Out</th>
            <th style="width: 150px">Counted</th>
            <th style="width: 150px">Balance</th>
            <th style="width: 300px">Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="summary: ${summaryReport.summaries}">
            <td th:text="${summary.paymentType}"></td>
            <td th:text="${#numbers.formatInteger(summary.startFloat,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summary.received,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summary.paidOut,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summary.counted,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summary.balance,1,'COMMA')}"></td>
            <td th:text="${summary.note}"></td>
          </tr>
          <tr>
            <td>Total</td>
            <td th:text="${#numbers.formatInteger(summaryReport.totalStartFloat,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summaryReport.totalReceived,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summaryReport.totalPaidOut,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summaryReport.totalCounted,1,'COMMA')}"></td>
            <td th:text="${#numbers.formatInteger(summaryReport.totalBalance,1,'COMMA')}"></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <page-after></page-after>

  <div class="container">
    <div class="report-header">
      <div class="logo">
        <img th:src="@{logo}"/>
        <span class="logo-title" th:text="${propertyName}"></span>
      </div>
      <h1 class="page-title">CASH CLOSURE DETAILS REPORT</h1>
      <div class="report-info">
        <span th:text="'Report Date: ' + ${reportDate}"></span><br/>
        <span th:text="'Cash RegID: ' + ${cashRegisterId}"></span><br/>
        <span th:text="'Closure Session Ref: ' + ${closureRef}"></span><br/>
        <span th:text="'Closed by: ' + ${closedBy}"></span>
      </div>
    </div>
    <div class="report-body">
      <div th:each="detail: ${detailsReport}">
        <h6 class="payment-type-detail" th:text="${detail.paymentType + ' - Start Float: ' + #numbers.formatInteger(detail.startFloat,1,'COMMA')}">
        </h6>
        <table class="payment-type-table">
          <thead>
            <tr>
              <th style="width: 100px">Date</th>
              <th style="width: 100px">Time</th>
              <th style="width: 100px">Room</th>
              <th style="width: 150px">Guest</th>
              <th style="width: 150px">Amount</th>
              <th style="width: 300px">Reference</th>
              <th style="width: 250px">Add. Text</th>
              <th style="width: 150px">User</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="transaction: ${detail.transactions}">
              <td th:text="${#dates.format(new java.util.Date(transaction.createdAt), 'dd/MM/yyyy')}"></td>
              <td th:text="${#dates.format(new java.util.Date(transaction.createdAt), 'HH:mm')}"></td>
              <td th:text="${transaction.room}"></td>
              <td th:text="${transaction.guest}"></td>
              <td th:text="${#numbers.formatInteger(transaction.amount,1,'COMMA')}"></td>
              <td th:text="${transaction.reference}"></td>
              <td th:text="${transaction.note}"></td>
              <td th:text="${transaction.employeeName}"></td>
            </tr>
            <tr>
              <td>Total</td>
              <td></td>
              <td></td>
              <td></td>
              <td th:text="${#numbers.formatInteger(detail.totalAmount,1,'COMMA')}"></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="report-footer">
      <hr/>
      <table class="payment-type-table-footer">
        <tbody>
          <tr>
            <td style="width: 100px">Total</td>
            <td style="width: 100px"></td>
            <td style="width: 100px"></td>
            <td style="width: 170px"></td>
            <td style="width: 150px" th:text="${#numbers.formatInteger(totalAmount,1,'COMMA')}"></td>
            <td style="width: 300px"></td>
            <td style="width: 300px"></td>
            <td style="width: 100px"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
